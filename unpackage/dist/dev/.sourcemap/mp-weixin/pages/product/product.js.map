{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/zhaozhongyang/Desktop/混合开发/uni-app/min-shop/pages/product/product.vue?ccdc","webpack:////Users/zhaozhongyang/Desktop/混合开发/uni-app/min-shop/pages/product/product.vue?2783","webpack:////Users/zhaozhongyang/Desktop/混合开发/uni-app/min-shop/pages/product/product.vue?fc6e","uni-app:///pages/product/product.vue","webpack:////Users/zhaozhongyang/Desktop/混合开发/uni-app/min-shop/pages/product/product.vue?c40e","webpack:////Users/zhaozhongyang/Desktop/混合开发/uni-app/min-shop/pages/product/product.vue?33db"],"names":["createPage","Page"],"mappings":"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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=2fbdbe34&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=2fbdbe34&\"","var components\ntry {\n  components = {\n    uSwiper: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-swiper/u-swiper\" */ \"uview-ui/components/u-swiper/u-swiper.vue\"\n      )\n    },\n    uParse: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-parse/u-parse\" */ \"uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    addCartBuy: function() {\n      return import(\n        /* webpackChunkName: \"components/add-cart-buy/add-cart-buy\" */ \"@/components/add-cart-buy/add-cart-buy.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.productDetail.is_custom_sku && _vm.specsTextShow\n      ? Object.keys(_vm.specsActive)\n      : null\n  var l1 = _vm.specsTextShow ? Object.keys(_vm.specsActive) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"container\">\r\n    <!-- 商品轮播图 -->\r\n    <view class=\"carousel\">\r\n      <u-swiper\r\n        :list=\"productDetail.edges.goods_spu_imgs\"\r\n        name=\"img_path\"\r\n        mode=\"number\"\r\n        indicator-pos=\"bottomRight\"\r\n        height=\"722\"\r\n      ></u-swiper>\r\n      <!-- 返回按钮 -->\r\n      <view class=\"back\" @click=\"navBack\"\r\n        ><text class=\"yticon icon-zuo\"></text\r\n      ></view>\r\n    </view>\r\n\r\n    <!-- 商品描述 -->\r\n    <view class=\"introduce-section\">\r\n      <text class=\"title\">{{ productDetail.spu_name }}</text>\r\n      <view class=\"price-box\">\r\n        <text class=\"price-tip\">￥</text>\r\n        <text class=\"price\">{{\r\n          specsTextShow ? activeSku.price : productDetail.show_price\r\n        }}</text>\r\n      </view>\r\n      <view class=\"bot-row\">\r\n        <text>销量：108</text>\r\n        <text>库存：{{ specsTextShow ? activeSku.price : 0 }}</text>\r\n        <text>浏览量：768</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 分享 -->\r\n    <view class=\"share-section\" @click=\"toggleShare\">\r\n      <view class=\"share-icon\">\r\n        <text class=\"yticon icon-xingxing\"></text>\r\n        返\r\n      </view>\r\n      <text class=\"tit\">该商品分享可领40减10红包</text>\r\n      <text class=\"yticon icon-bangzhu1\"></text>\r\n      <view class=\"share-btn\">\r\n        立即分享\r\n        <text class=\"yticon icon-you\"></text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 规格 -->\r\n    <view class=\"c-list\">\r\n      <!-- 购买类型 -->\r\n      <view\r\n        v-if=\"productDetail.is_custom_sku\"\r\n        class=\"c-row b-b\"\r\n        @click=\"toggleSpec\"\r\n      >\r\n        <text class=\"tit\">购买类型</text>\r\n        <view class=\"con\">\r\n          <block v-if=\"specsTextShow\">\r\n            <block v-for=\"key in Object.keys(specsActive)\" :key=\"key\">\r\n              <text class=\"selected-text\"\r\n                >{{ specsActive[key][\"name\"] }}&nbsp;&nbsp;</text\r\n              >\r\n            </block>\r\n          </block>\r\n          <block v-else> 请选择规格 </block>\r\n        </view>\r\n        <text class=\"yticon icon-you\"></text>\r\n      </view>\r\n      <!-- 优惠券 -->\r\n      <view class=\"c-row b-b\">\r\n        <text class=\"tit\">优惠券</text>\r\n        <text class=\"con t-r red\">领取优惠券</text>\r\n        <text class=\"yticon icon-you\"></text>\r\n      </view>\r\n      <!-- 促销活动 -->\r\n      <view class=\"c-row b-b\">\r\n        <text class=\"tit\">促销活动</text>\r\n        <view class=\"con-list\">\r\n          <text>新人首单送20元无门槛代金券</text>\r\n          <text>订单满50减10</text>\r\n          <text>订单满100减3</text>\r\n          <text>单笔购买满两件免邮费</text>\r\n        </view>\r\n      </view>\r\n      <!-- 服务 -->\r\n      <view class=\"c-row\" @click=\"toggleService\">\r\n        <text class=\"tit\">服务</text>\r\n        <text class=\"con\">7天无理由退换货</text>\r\n        <text class=\"yticon icon-you\"></text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 评价 -->\r\n    <view class=\"eva-section\">\r\n      <view class=\"e-header\">\r\n        <text class=\"tit\">评价</text>\r\n        <text>(86)</text>\r\n        <text class=\"tip\">好评率 100%</text>\r\n        <text class=\"yticon icon-you\"></text>\r\n      </view>\r\n      <view class=\"eva-box\">\r\n        <image\r\n          class=\"portrait\"\r\n          src=\"/static/missing-face.png\"\r\n          mode=\"aspectFill\"\r\n        />\r\n        <view class=\"right\">\r\n          <text class=\"name\">Leo yo</text>\r\n          <text class=\"con\"\r\n            >商品收到了，79元两件，质量不错，试了一下有点瘦，但是加个外罩很漂亮，我很喜欢，质量不错，试了一下有点瘦</text\r\n          >\r\n          <view class=\"bot\">\r\n            <text class=\"attr\">购买类型：XL 红色</text>\r\n            <text class=\"time\">2019-04-01 19:21</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 图文详情 -->\r\n    <view class=\"detail-desc\">\r\n      <view class=\"d-header\"><text>图文详情</text></view>\r\n      <u-parse :html=\"productDetail.spu_details\" :tag-style=\"style\"></u-parse>\r\n    </view>\r\n\r\n    <!-- 操作菜单 -->\r\n    <add-cart-buy @listenAddCart=\"addCart\" @listenBuy=\"buy\" />\r\n\r\n    <!-- 规格弹出层 -->\r\n    <u-popup\r\n      v-model=\"specShow\"\r\n      mode=\"bottom\"\r\n      height=\"auto\"\r\n      border-radius=\"20\"\r\n      :closeable=\"true\"\r\n      close-icon-pos=\"top-right\"\r\n    >\r\n      <view class=\"attr-content\">\r\n        <view class=\"a-t\">\r\n          <image :src=\"productDetail.spu_head_img\" mode=\"aspectFill\" />\r\n          <view class=\"right\">\r\n            <text class=\"price\"\r\n              >￥{{\r\n                activeSku.price === undefined\r\n                  ? productDetail.show_price\r\n                  : activeSku.price\r\n              }}</text\r\n            >\r\n            <text class=\"stock\">库存：{{ activeSku.stock || \"\" }}件</text>\r\n            <view class=\"selected\">\r\n              已选：\r\n              <block v-if=\"specsTextShow\">\r\n                <block v-for=\"key in Object.keys(specsActive)\" :key=\"key\">\r\n                  <text class=\"selected-text\"\r\n                    >{{ specsActive[key][\"name\"] }}&nbsp;&nbsp;</text\r\n                  >\r\n                </block>\r\n              </block>\r\n              <block v-else> 请选择规格 </block>\r\n              <!-- \t\t\t\t\t<block v-for=\"(item,index) in activeSku.edges.goods_specs_option\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<text class=\"selected-text\">{{item.specs_option_value}}</text>\r\n\t\t\t\t\t\t\t</block> -->\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"attr-list\" v-for=\"item in specs\" :key=\"item.id\">\r\n          <text>{{ item.title }}</text>\r\n          <view class=\"item-list\">\r\n            <text\r\n              v-for=\"childItem in item.list\"\r\n              :key=\"childItem.id\"\r\n              class=\"tit\"\r\n              :class=\"{\r\n                selected: specsActive[item.id].id === childItem.id,\r\n                'selected-disable': !childItem.able,\r\n              }\"\r\n              @click=\"selectSpec(item.id, childItem)\"\r\n            >\r\n              {{ childItem.name }}\r\n            </text>\r\n          </view>\r\n        </view>\r\n        <button class=\"btn\" @click=\"toggleSpec\">完成</button>\r\n      </view>\r\n    </u-popup>\r\n    <!-- 服务弹出层 -->\r\n    <u-popup\r\n      v-model=\"serviceShow\"\r\n      mode=\"bottom\"\r\n      height=\"auto\"\r\n      border-radius=\"20\"\r\n      :closeable=\"true\"\r\n      close-icon-pos=\"top-right\"\r\n    >\r\n      <view class=\"attr-content\">\r\n        <view class=\"ser-list\">\r\n          <view class=\"item\">\r\n            <view>\r\n              <text class=\"yticon icon-xingxing\"></text>\r\n              <text class=\"tit\">破损包退换</text>\r\n            </view>\r\n            <text class=\"tip\">7天无理由退换货</text>\r\n          </view>\r\n          <view class=\"item\">\r\n            <view>\r\n              <text class=\"yticon icon-xingxing\"></text>\r\n              <text class=\"tit\">7天价保</text>\r\n            </view>\r\n            <text class=\"tip\"\r\n              >支持7天价保，下单7天内发生降价可申请价格保护</text\r\n            >\r\n          </view>\r\n          <view class=\"item\">\r\n            <view>\r\n              <text class=\"yticon icon-xingxing\"></text>\r\n              <text class=\"tit\">免费上门取件</text>\r\n            </view>\r\n            <text class=\"tip\">自营商品快递免费上门退取，退取后闪电退款</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </u-popup>\r\n    <!-- 分享弹出层 -->\r\n    <u-popup v-model=\"shareShow\" mode=\"bottom\" height=\"auto\" border-radius=\"20\">\r\n      <view class=\"attr-content\">\r\n        <view class=\"share-header\">分享到</view>\r\n        <view class=\"share-list\">\r\n          <view\r\n            v-for=\"(item, index) in shareList\"\r\n            :key=\"index\"\r\n            class=\"share-item\"\r\n            @click=\"shareToFriend(item.text)\"\r\n          >\r\n            <image :src=\"item.icon\" mode=\"aspectFill\" />\r\n            <text>{{ item.text }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"bottom b-t\" @click=\"toggleMask\">取消</view>\r\n      </view>\r\n    </u-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport addCartBuy from \"@/components/add-cart-buy/add-cart-buy.vue\";\r\nexport default {\r\n  components: {\r\n    addCartBuy,\r\n  },\r\n  data() {\r\n    return {\r\n      style: {\r\n        img: \"display:block;\",\r\n      },\r\n      productId: \"\",\r\n      serviceShow: false,\r\n      shareShow: false,\r\n      specShow: false,\r\n      specSelected: [],\r\n      productDetail: {},\r\n      //商品规格\r\n      specs: [],\r\n      // sku列表\r\n      skus: [],\r\n      shareList: [\r\n        {\r\n          type: 1,\r\n          icon: \"/static/temp/share_wechat.png\",\r\n          text: \"微信好友\",\r\n        },\r\n        {\r\n          type: 2,\r\n          icon: \"/static/temp/share_moment.png\",\r\n          text: \"朋友圈\",\r\n        },\r\n        {\r\n          type: 3,\r\n          icon: \"/static/temp/share_qq.png\",\r\n          text: \"QQ好友\",\r\n        },\r\n        {\r\n          type: 4,\r\n          icon: \"/static/temp/share_qqzone.png\",\r\n          text: \"QQ空间\",\r\n        },\r\n      ],\r\n      specsActive: {},\r\n      // 是否展示已选规格\r\n      specsTextShow: false,\r\n      activeSku: {},\r\n    };\r\n  },\r\n\r\n  onLoad(options) {\r\n    this.productId = options.id;\r\n    this.getProductDetail();\r\n  },\r\n  methods: {\r\n    async getProductDetail() {\r\n      let res = await this.$u.api.getProductByIdDetail({\r\n        id: this.productId,\r\n      });\r\n      if (res.code === 200) {\r\n        this.productDetail = res.data;\r\n        //  如果是多sku商品\r\n        if (res.data.is_custom_sku) {\r\n          // 初始化所有的选项\r\n          res.data.specs.forEach((item) => {\r\n            console.log(item.id);\r\n            this.$set(this.specsActive, item.id, \"\");\r\n          });\r\n          // 处理所有的sku\r\n          this.skus = res.data.edges.goods_sku.map((item) => {\r\n            return {\r\n              id: item.id,\r\n              specs: item.edges.goods_specs_option.map((s_item) => {\r\n                return {\r\n                  id: s_item.id,\r\n                  name: s_item.specs_option_value,\r\n                };\r\n              }),\r\n            };\r\n          });\r\n          // 处理所有的specs\r\n          /**\r\n\t\t\t\t\t\t [\r\n\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t id:1,\r\n\t\t\t\t\t\t\t\t title:颜色,\r\n\t\t\t\t\t\t\t\t list:[\r\n\t\t\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t\t\t id:2,\r\n\t\t\t\t\t\t\t\t\t\t name:\"红色\",\r\n\t\t\t\t\t\t\t\t\t\t able:true //是否可以点击\r\n\t\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t ]\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t ]\r\n\t\t\t\t\t\t */\r\n          this.specs = res.data.specs.map((item) => {\r\n            return {\r\n              title: item.specs_name,\r\n              id: item.id,\r\n              list: item.edges.goods_specs_option.map((s_item) => ({\r\n                able: this.isAble(item.id, s_item),\r\n                name: s_item.specs_option_value,\r\n                id: s_item.id,\r\n              })),\r\n            };\r\n          });\r\n          // Object.keys(specsActive).every(item => item!=null&&item!=\"\")\r\n        }\r\n      }\r\n    },\r\n    // 核心函数\r\n    // 大类的id 选项组\r\n    isAble(specs_id, option) {\r\n      // 获取当前选项\r\n      let copySelectSpec = JSON.parse(JSON.stringify(this.specsActive));\r\n      copySelectSpec[specs_id] = option;\r\n      let specLen = Object.keys(this.specsActive).length;\r\n      // 遍历商品sku\r\n      let flag = this.skus.some((item) => {\r\n        // 条件判断 核心逻辑判断\r\n        var i = 0;\r\n        // 循环遍历 当前所有值\r\n        for (let k in copySelectSpec) {\r\n          if (copySelectSpec[k] == \"\") {\r\n            i++;\r\n          } else if (\r\n            item.specs.findIndex(\r\n              (s_spec) => s_spec.id == copySelectSpec[k].id\r\n            ) > -1\r\n          ) {\r\n            i++;\r\n          }\r\n        }\r\n        return i == specLen;\r\n      });\r\n      return flag;\r\n    },\r\n    selectSpec(key, val) {\r\n      // 过滤掉被禁用的\r\n      if (!val.able) return;\r\n      let specsActive = this.specsActive;\r\n      // 如果次元素已经选中\r\n      if (specsActive[key] && specsActive[key].id == val.id) {\r\n        specsActive[key] = \"\";\r\n      } else {\r\n        specsActive[key] = val;\r\n      }\r\n      this.specsActive = JSON.parse(JSON.stringify(specsActive));\r\n      this.specs.forEach((item) => {\r\n        item.list.forEach((its) => {\r\n          its.able = this.isAble(item.id, its);\r\n        });\r\n      });\r\n      if (Object.keys(this.specsActive).every((key) => this.specsActive[key])) {\r\n        this.specsTextShow = true;\r\n        this.getSku();\r\n      } else {\r\n        this.specsTextShow = false;\r\n        this.activeSku = \"\";\r\n      }\r\n    },\r\n    async getSku() {\r\n      this.productId = parseInt(this.productId);\r\n      try {\r\n        let res = await this.$u.api.getSku({\r\n          id: this.productId,\r\n          // 遍历循环处理\r\n          option_ids: Object.keys(this.specsActive).map((key) => {\r\n            return this.specsActive[key][\"id\"];\r\n          }),\r\n        });\r\n        this.activeSku = res.data;\r\n      } catch (e) {\r\n        if (e.data.code >= 400) {\r\n          uni.showToast({\r\n            title: \"所选商品不存在\",\r\n            icon: \"none\",\r\n          });\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    navBack() {\r\n      uni.navigateBack({\r\n        delta: 1,\r\n      });\r\n    },\r\n    toggleSpec() {\r\n      if (this.specShow) {\r\n        this.specShow = false;\r\n      } else {\r\n        this.specShow = true;\r\n      }\r\n    },\r\n    toggleService() {\r\n      this.serviceShow = true;\r\n    },\r\n    toggleShare() {\r\n      this.shareShow = true;\r\n    },\r\n    toggleMask() {\r\n      this.shareShow = false;\r\n    },\r\n    addCart() {\r\n      console.log(111);\r\n    },\r\n    buy() {\r\n      console.log(222);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n  background: #f8f8f8;\r\n  padding-bottom: 160upx;\r\n}\r\n\r\n.icon-you {\r\n  font-size: 26upx;\r\n  color: #888;\r\n}\r\n\r\n.carousel {\r\n  height: 722upx;\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  .back {\r\n    position: absolute;\r\n    top: 40upx;\r\n    left: 40upx;\r\n    width: 60upx;\r\n    height: 60upx;\r\n    background: rgba($color: #fff, $alpha: 0.2);\r\n    border: 1upx solid #ccc;\r\n    border-radius: 50%;\r\n    color: #fff;\r\n    font-size: 38upx;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n}\r\n\r\n// 商品描述\r\n.introduce-section {\r\n  background: #fff;\r\n  padding: 20upx 30upx;\r\n  border-radius: 20upx;\r\n  margin: 20upx 10upx;\r\n\r\n  .title {\r\n    font-size: 32upx;\r\n    color: #303133;\r\n    height: 50upx;\r\n    line-height: 50upx;\r\n  }\r\n\r\n  .price-box {\r\n    display: flex;\r\n    align-items: baseline;\r\n    height: 64upx;\r\n    padding: 10upx 0;\r\n    font-size: 26upx;\r\n    color: #fa436a;\r\n  }\r\n\r\n  .price {\r\n    font-size: 34upx;\r\n  }\r\n\r\n  .bot-row {\r\n    display: flex;\r\n    align-items: center;\r\n    color: #909399;\r\n    font-size: 24upx;\r\n    height: 50upx;\r\n\r\n    text {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n\r\n// 分享\r\n.share-section {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #606266;\r\n  background: linear-gradient(left, #fdf5f6, #fbebf6);\r\n  padding: 12upx 30upx;\r\n\r\n  .share-icon {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 70upx;\r\n    height: 30upx;\r\n    line-height: 1;\r\n    border: 1px solid #fa436a;\r\n    border-radius: 4upx;\r\n    position: relative;\r\n    overflow: hidden;\r\n    font-size: 22upx;\r\n    color: #fa436a;\r\n\r\n    &:after {\r\n      content: \"\";\r\n      width: 50upx;\r\n      height: 50upx;\r\n      border-radius: 50%;\r\n      left: -20upx;\r\n      top: -12upx;\r\n      position: absolute;\r\n      background: #fa436a;\r\n    }\r\n  }\r\n\r\n  .icon-xingxing {\r\n    position: relative;\r\n    z-index: 1;\r\n    font-size: 24upx;\r\n    margin-left: 2upx;\r\n    margin-right: 10upx;\r\n    color: #fff;\r\n    line-height: 1;\r\n  }\r\n\r\n  .share-btn {\r\n    flex: 1;\r\n    text-align: right;\r\n    font-size: 24upx;\r\n    color: #fa436a;\r\n  }\r\n\r\n  .tit {\r\n    font-size: 28upx;\r\n    margin-left: 10upx;\r\n  }\r\n\r\n  .icon-bangzhu1 {\r\n    padding: 10upx;\r\n    font-size: 30upx;\r\n    line-height: 1;\r\n  }\r\n\r\n  .icon-you {\r\n    font-size: 24upx;\r\n    margin-left: 4upx;\r\n    color: #fa436a;\r\n  }\r\n}\r\n\r\n// 规格\r\n.c-list {\r\n  background: #fff;\r\n  padding: 10upx 10upx;\r\n  border-radius: 20upx;\r\n  margin: 20upx 10upx;\r\n  font-size: 26upx;\r\n\r\n  .c-row {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 20upx 20upx;\r\n    position: relative;\r\n  }\r\n\r\n  .tit {\r\n    color: #606266;\r\n    width: 140upx;\r\n  }\r\n\r\n  .con {\r\n    flex: 1;\r\n    color: #303133;\r\n\r\n    .selected-text {\r\n      margin-right: 10upx;\r\n    }\r\n  }\r\n\r\n  .con-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    text {\r\n      font-size: 24upx;\r\n      line-height: 1.5;\r\n    }\r\n  }\r\n\r\n  .red {\r\n    color: #fa436a;\r\n  }\r\n}\r\n\r\n//评价\r\n.eva-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fff;\r\n  padding: 20upx 30upx;\r\n  margin: 20upx 10upx;\r\n  border-radius: 20upx;\r\n\r\n  .e-header {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 70upx;\r\n    font-size: 26upx;\r\n    color: #909399;\r\n\r\n    .tit {\r\n      font-size: 30upx;\r\n      color: #303133;\r\n      margin-right: 4upx;\r\n    }\r\n\r\n    .tip {\r\n      flex: 1;\r\n      text-align: right;\r\n    }\r\n\r\n    .icon-you {\r\n      margin-left: 10upx;\r\n    }\r\n  }\r\n}\r\n\r\n.eva-box {\r\n  display: flex;\r\n  padding: 20upx 0;\r\n\r\n  .portrait {\r\n    flex-shrink: 0;\r\n    width: 80upx;\r\n    height: 80upx;\r\n    border-radius: 100px;\r\n  }\r\n\r\n  .right {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-size: 28upx;\r\n    color: #606266;\r\n    padding-left: 26upx;\r\n\r\n    .con {\r\n      font-size: 28upx;\r\n      color: #303133;\r\n      margin: 20upx 0;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-box-orient: vertical;\r\n      -webkit-line-clamp: 2;\r\n      overflow: hidden;\r\n      // width: 564upx;\r\n    }\r\n\r\n    .bot {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      font-size: 24upx;\r\n      color: #909399;\r\n    }\r\n  }\r\n}\r\n\r\n// 图文详情\r\n.detail-desc {\r\n  background: #fff;\r\n  margin-top: 20upx;\r\n\r\n  .d-header {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 80upx;\r\n    font-size: 30upx;\r\n    color: #303133;\r\n    position: relative;\r\n\r\n    text {\r\n      padding: 0 20upx;\r\n      background: #fff;\r\n      position: relative;\r\n      z-index: 1;\r\n    }\r\n\r\n    &:after {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translateX(-50%);\r\n      width: 300upx;\r\n      height: 0;\r\n      content: \"\";\r\n      border-bottom: 1px solid #ccc;\r\n    }\r\n  }\r\n}\r\n\r\n// 规格弹层\r\n.attr-content {\r\n  padding: 10upx 30upx;\r\n  margin-bottom: 200upx;\r\n}\r\n\r\n.a-t {\r\n  display: flex;\r\n\r\n  image {\r\n    width: 170upx;\r\n    height: 170upx;\r\n    flex-shrink: 0;\r\n    margin-top: 20upx;\r\n    border-radius: 8upx;\r\n  }\r\n\r\n  .right {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-left: 24upx;\r\n    font-size: 26upx;\r\n    color: #606266;\r\n    line-height: 42upx;\r\n    margin-top: 20upx;\r\n\r\n    .price {\r\n      font-size: 32upx;\r\n      color: #fa436a;\r\n      margin-bottom: 10upx;\r\n    }\r\n\r\n    .seleted-text {\r\n      margin-right: 10upx;\r\n    }\r\n  }\r\n}\r\n\r\n.attr-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 30upx;\r\n  color: #606266;\r\n  padding-top: 30upx;\r\n  padding-left: 10upx;\r\n}\r\n\r\n.item-list {\r\n  padding: 20upx 0 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  text {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: #eee;\r\n    margin-right: 20upx;\r\n    margin-bottom: 20upx;\r\n    border-radius: 100upx;\r\n    min-width: 60upx;\r\n    height: 60upx;\r\n    padding: 0 20upx;\r\n    font-size: 28upx;\r\n    color: #303133;\r\n  }\r\n\r\n  .selected {\r\n    background: #fbebee;\r\n    color: #fa436a;\r\n  }\r\n\r\n  .selected-disable {\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n.btn {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 50upx;\r\n  height: 66upx;\r\n  line-height: 66upx;\r\n  border-radius: 100upx;\r\n  background: #fa435a;\r\n  font-size: 30upx;\r\n  color: #fff;\r\n  margin: 0 30upx;\r\n}\r\n\r\n//服务弹层\r\n.ser-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fff;\r\n  margin-top: 60upx;\r\n\r\n  .item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 30upx 20upx;\r\n    margin: 20upx 10upx;\r\n    border-radius: 10upx;\r\n    box-shadow: 0px 0.5px 5px rgba($color: #000000, $alpha: 0.1);\r\n\r\n    .tit {\r\n      font-size: 30upx;\r\n      color: #303133;\r\n    }\r\n\r\n    .icon-xingxing {\r\n      color: #fa436a;\r\n    }\r\n\r\n    .tip {\r\n      font-size: 24upx;\r\n      color: #606266;\r\n    }\r\n  }\r\n}\r\n\r\n.share-header {\r\n  height: 110upx;\r\n  font-size: 30upx;\r\n  color: #303133;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 10upx;\r\n  margin-top: 50upx;\r\n\r\n  &:before,\r\n  &:after {\r\n    content: \"\";\r\n    width: 240upx;\r\n    height: 0;\r\n    border-top: 1px solid #909399;\r\n    transform: scaleY(0.5);\r\n    margin-right: 30upx;\r\n  }\r\n\r\n  &:after {\r\n    margin-left: 30upx;\r\n    margin-right: 0;\r\n  }\r\n}\r\n\r\n.share-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.share-item {\r\n  min-width: 33.33%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 180upx;\r\n\r\n  image {\r\n    width: 80upx;\r\n    height: 80upx;\r\n    margin-bottom: 16upx;\r\n  }\r\n\r\n  text {\r\n    font-size: 28upx;\r\n    color: #606266;\r\n  }\r\n}\r\n\r\n.bottom {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 90upx;\r\n  background: #fff;\r\n  z-index: 9;\r\n  font-size: 30upx;\r\n  color: #303133;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625047377275\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}